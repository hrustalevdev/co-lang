{"version":3,"file":"ErrorListener.js","names":["ErrorListener","recogniser","T6TriggerLexer","recognizer","offendingSymbol","line","column","msg","e","source","isLexer","ESource","LEXER","PARSER","report","CoLangError","message","instance","antlr4","error"],"sources":["../src/ErrorListener.ts"],"sourcesContent":["import antlr4 from 'antlr4';\nimport type RecognitionException from 'antlr4/error/RecognitionException';\nimport type Recognizer from 'antlr4/Recognizer';\nimport type Token from 'antlr4/Token';\nimport T6TriggerLexer from './gen/T6TriggerLexer';\nimport { CoLangError } from './CoLangError';\nimport { ESource } from './types';\n\nexport class ErrorListener extends antlr4.error.ErrorListener {\n  private static instance: ErrorListener | null;\n  report?: CoLangError;\n\n  static getInstance() {\n    if (!ErrorListener.instance) {\n      ErrorListener.instance = new ErrorListener();\n    }\n\n    return ErrorListener.instance;\n  }\n\n  static clearInstance() {\n    ErrorListener.instance = null;\n  }\n\n  private isLexer(recogniser: Recognizer): recogniser is T6TriggerLexer {\n    return recogniser instanceof T6TriggerLexer;\n  }\n\n  override syntaxError(\n    recognizer: Recognizer,\n    offendingSymbol: Token,\n    line: number,\n    column: number,\n    msg: string,\n    e: RecognitionException\n  ) {\n    const source = this.isLexer(recognizer) ? ESource.LEXER : ESource.PARSER;\n    this.report = new CoLangError({\n      message: msg,\n      source,\n      line,\n      column,\n      recognizer,\n      offendingSymbol,\n      e,\n    });\n  }\n}\n"],"mappings":";;;;;;;AAAA;AAIA;AACA;AACA;AAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAErBA,aAAa;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OAgBxB,iBAAgBC,UAAsB,EAAgC;MACpE,OAAOA,UAAU,YAAYC,uBAAc;IAC7C;EAAC;IAAA;IAAA,OAED,qBACEC,UAAsB,EACtBC,eAAsB,EACtBC,IAAY,EACZC,MAAc,EACdC,GAAW,EACXC,CAAuB,EACvB;MACA,IAAMC,MAAM,GAAG,IAAI,CAACC,OAAO,CAACP,UAAU,CAAC,GAAGQ,cAAO,CAACC,KAAK,GAAGD,cAAO,CAACE,MAAM;MACxE,IAAI,CAACC,MAAM,GAAG,IAAIC,wBAAW,CAAC;QAC5BC,OAAO,EAAET,GAAG;QACZE,MAAM,EAANA,MAAM;QACNJ,IAAI,EAAJA,IAAI;QACJC,MAAM,EAANA,MAAM;QACNH,UAAU,EAAVA,UAAU;QACVC,eAAe,EAAfA,eAAe;QACfI,CAAC,EAADA;MACF,CAAC,CAAC;IACJ;EAAC;IAAA;IAAA,OAlCD,uBAAqB;MACnB,IAAI,CAACR,aAAa,CAACiB,QAAQ,EAAE;QAC3BjB,aAAa,CAACiB,QAAQ,GAAG,IAAIjB,aAAa,EAAE;MAC9C;MAEA,OAAOA,aAAa,CAACiB,QAAQ;IAC/B;EAAC;IAAA;IAAA,OAED,yBAAuB;MACrBjB,aAAa,CAACiB,QAAQ,GAAG,IAAI;IAC/B;EAAC;EAAA;AAAA,EAdgCC,cAAM,CAACC,KAAK,CAACnB,aAAa;AAAA"}