import t from"antlr4";import e from"fast-deep-equal";function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R(n.key),n)}}function a(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,i){return(e=R(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function v(t,e,i){return v=h()?Reflect.construct.bind():function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&c(r,i.prototype),r},v.apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return v(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},f(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function T(t){var e=h();return function(){var i,n=l(t);if(e){var r=l(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return d(this,i)}}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=y(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},E.apply(this,arguments)}function x(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return k(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function g(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=m(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw s}}}}function R(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var C=function(t){o(i,f(Error));var e=T(i);function i(t){var n;return r(this,i),(n=e.call(this,t.message)).name="CoLangError",n.source=t.source,n.line=t.line,n.column=t.column,n.recognizer=t.recognizer,n.offendingSymbol=t.offendingSymbol,n.e=t.e,n}return a(i)}(),N=(new t.atn.ATNDeserializer).deserialize([4,0,34,243,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,2,23,7,23,2,24,7,24,2,25,7,25,2,26,7,26,2,27,7,27,2,28,7,28,2,29,7,29,2,30,7,30,2,31,7,31,2,32,7,32,2,33,7,33,2,34,7,34,2,35,7,35,1,0,1,0,1,1,1,1,1,2,1,2,1,3,1,3,1,4,1,4,1,5,1,5,1,6,1,6,1,7,1,7,1,8,1,8,1,8,1,8,1,9,1,9,1,9,1,9,1,9,1,9,1,10,1,10,1,10,1,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,15,1,15,1,15,1,15,1,15,1,15,1,15,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,16,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,17,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,18,1,19,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,21,1,21,1,22,1,22,1,22,1,23,1,23,1,24,1,24,1,24,1,25,1,25,1,26,1,26,1,27,1,27,1,28,1,28,1,29,3,29,204,8,29,1,29,4,29,207,8,29,11,29,12,29,208,1,30,1,30,1,30,1,30,1,31,1,31,3,31,217,8,31,1,31,1,31,1,32,1,32,3,32,223,8,32,1,32,1,32,1,32,5,32,228,8,32,10,32,12,32,231,9,32,1,33,4,33,234,8,33,11,33,12,33,235,1,33,1,33,1,34,1,34,1,35,1,35,0,0,36,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,25,13,27,14,29,15,31,16,33,17,35,18,37,19,39,20,41,21,43,22,45,23,47,24,49,25,51,26,53,27,55,28,57,29,59,30,61,31,63,32,65,33,67,34,69,0,71,0,1,0,5,2,0,44,44,59,59,3,0,77,77,100,100,121,121,3,0,9,10,12,13,32,32,2,0,65,90,97,122,1,0,48,57,248,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,0,47,1,0,0,0,0,49,1,0,0,0,0,51,1,0,0,0,0,53,1,0,0,0,0,55,1,0,0,0,0,57,1,0,0,0,0,59,1,0,0,0,0,61,1,0,0,0,0,63,1,0,0,0,0,65,1,0,0,0,0,67,1,0,0,0,1,73,1,0,0,0,3,75,1,0,0,0,5,77,1,0,0,0,7,79,1,0,0,0,9,81,1,0,0,0,11,83,1,0,0,0,13,85,1,0,0,0,15,87,1,0,0,0,17,89,1,0,0,0,19,93,1,0,0,0,21,99,1,0,0,0,23,105,1,0,0,0,25,110,1,0,0,0,27,117,1,0,0,0,29,122,1,0,0,0,31,131,1,0,0,0,33,138,1,0,0,0,35,153,1,0,0,0,37,163,1,0,0,0,39,175,1,0,0,0,41,180,1,0,0,0,43,184,1,0,0,0,45,186,1,0,0,0,47,189,1,0,0,0,49,191,1,0,0,0,51,194,1,0,0,0,53,196,1,0,0,0,55,198,1,0,0,0,57,200,1,0,0,0,59,203,1,0,0,0,61,210,1,0,0,0,63,216,1,0,0,0,65,222,1,0,0,0,67,233,1,0,0,0,69,239,1,0,0,0,71,241,1,0,0,0,73,74,5,36,0,0,74,2,1,0,0,0,75,76,5,45,0,0,76,4,1,0,0,0,77,78,5,47,0,0,78,6,1,0,0,0,79,80,5,176,0,0,80,8,1,0,0,0,81,82,5,43,0,0,82,10,1,0,0,0,83,84,5,37,0,0,84,12,1,0,0,0,85,86,5,38,0,0,86,14,1,0,0,0,87,88,5,46,0,0,88,16,1,0,0,0,89,90,5,36,0,0,90,91,5,73,0,0,91,92,5,70,0,0,92,18,1,0,0,0,93,94,5,36,0,0,94,95,5,70,0,0,95,96,5,82,0,0,96,97,5,79,0,0,97,98,5,77,0,0,98,20,1,0,0,0,99,100,5,36,0,0,100,101,5,84,0,0,101,102,5,72,0,0,102,103,5,69,0,0,103,104,5,78,0,0,104,22,1,0,0,0,105,106,5,36,0,0,106,107,5,65,0,0,107,108,5,78,0,0,108,109,5,89,0,0,109,24,1,0,0,0,110,111,5,36,0,0,111,112,5,69,0,0,112,113,5,77,0,0,113,114,5,80,0,0,114,115,5,84,0,0,115,116,5,89,0,0,116,26,1,0,0,0,117,118,5,36,0,0,118,119,5,78,0,0,119,120,5,79,0,0,120,121,5,84,0,0,121,28,1,0,0,0,122,123,5,36,0,0,123,124,5,67,0,0,124,125,5,79,0,0,125,126,5,77,0,0,126,127,5,80,0,0,127,128,5,76,0,0,128,129,5,69,0,0,129,130,5,88,0,0,130,30,1,0,0,0,131,132,5,36,0,0,132,133,5,67,0,0,133,134,5,79,0,0,134,135,5,85,0,0,135,136,5,78,0,0,136,137,5,84,0,0,137,32,1,0,0,0,138,139,5,36,0,0,139,140,5,67,0,0,140,141,5,79,0,0,141,142,5,85,0,0,142,143,5,78,0,0,143,144,5,84,0,0,144,145,5,95,0,0,145,146,5,67,0,0,146,147,5,79,0,0,147,148,5,77,0,0,148,149,5,80,0,0,149,150,5,76,0,0,150,151,5,69,0,0,151,152,5,88,0,0,152,34,1,0,0,0,153,154,5,36,0,0,154,155,5,68,0,0,155,156,5,73,0,0,156,157,5,83,0,0,157,158,5,84,0,0,158,159,5,73,0,0,159,160,5,78,0,0,160,161,5,67,0,0,161,162,5,84,0,0,162,36,1,0,0,0,163,164,5,105,0,0,164,165,5,109,0,0,165,166,5,112,0,0,166,167,5,97,0,0,167,168,5,99,0,0,168,169,5,116,0,0,169,170,5,83,0,0,170,171,5,105,0,0,171,172,5,100,0,0,172,173,5,101,0,0,173,174,5,115,0,0,174,38,1,0,0,0,175,176,5,36,0,0,176,177,5,65,0,0,177,178,5,78,0,0,178,179,5,68,0,0,179,40,1,0,0,0,180,181,5,36,0,0,181,182,5,79,0,0,182,183,5,82,0,0,183,42,1,0,0,0,184,185,5,62,0,0,185,44,1,0,0,0,186,187,5,62,0,0,187,188,5,61,0,0,188,46,1,0,0,0,189,190,5,60,0,0,190,48,1,0,0,0,191,192,5,60,0,0,192,193,5,61,0,0,193,50,1,0,0,0,194,195,5,61,0,0,195,52,1,0,0,0,196,197,5,40,0,0,197,54,1,0,0,0,198,199,5,41,0,0,199,56,1,0,0,0,200,201,7,0,0,0,201,58,1,0,0,0,202,204,5,45,0,0,203,202,1,0,0,0,203,204,1,0,0,0,204,206,1,0,0,0,205,207,3,71,35,0,206,205,1,0,0,0,207,208,1,0,0,0,208,206,1,0,0,0,208,209,1,0,0,0,209,60,1,0,0,0,210,211,3,59,29,0,211,212,5,46,0,0,212,213,3,59,29,0,213,62,1,0,0,0,214,217,3,59,29,0,215,217,3,61,30,0,216,214,1,0,0,0,216,215,1,0,0,0,217,218,1,0,0,0,218,219,7,1,0,0,219,64,1,0,0,0,220,223,3,69,34,0,221,223,3,71,35,0,222,220,1,0,0,0,222,221,1,0,0,0,223,229,1,0,0,0,224,228,3,69,34,0,225,228,3,71,35,0,226,228,5,95,0,0,227,224,1,0,0,0,227,225,1,0,0,0,227,226,1,0,0,0,228,231,1,0,0,0,229,227,1,0,0,0,229,230,1,0,0,0,230,66,1,0,0,0,231,229,1,0,0,0,232,234,7,2,0,0,233,232,1,0,0,0,234,235,1,0,0,0,235,233,1,0,0,0,235,236,1,0,0,0,236,237,1,0,0,0,237,238,6,33,0,0,238,68,1,0,0,0,239,240,7,3,0,0,240,70,1,0,0,0,241,242,7,4,0,0,242,72,1,0,0,0,8,0,203,208,216,222,227,229,235,1,6,0,0]),_=N.decisionToState.map((function(e,i){return new t.dfa.DFA(e,i)})),I=function(e){o(n,t.Lexer);var i=T(n);function n(e){var s;return r(this,n),(s=i.call(this,e))._interp=new t.atn.LexerATNSimulator(p(s),N,_,new t.PredictionContextCache),s}return a(n,[{key:"atn",get:function(){return N}}]),n}();u(I,"grammarFileName","T6Trigger.g4"),u(I,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),u(I,"modeNames",["DEFAULT_MODE"]),u(I,"literalNames",[null,"'\\u0024'","'-'","'/'","'\\u00B0'","'\\u002B'","'\\u0025'","'\\u0026'","'.'","'$IF'","'$FROM'","'$THEN'","'$ANY'","'$EMPTY'","'$NOT'","'$COMPLEX'","'$COUNT'","'$COUNT_COMPLEX'","'$DISTINCT'","'impactSides'","'$AND'","'$OR'","'>'","'>='","'<'","'<='","'='","'('","')'"]),u(I,"symbolicNames",[null,null,null,null,null,null,null,null,null,"IF","FROM","THEN","ANY","EMPTY","NOT","COMPLEX","COUNT","COUNT_COMPLEX","DISTINCT","IMPACT_SIDES","AND","OR","GT","GE","LT","LE","EQ","LPAREN","RPAREN","SEPARATOR","INT","DECIMAL","DATE_TIME","IDENTIFIER","WS"]),u(I,"ruleNames",["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","IF","FROM","THEN","ANY","EMPTY","NOT","COMPLEX","COUNT","COUNT_COMPLEX","DISTINCT","IMPACT_SIDES","AND","OR","GT","GE","LT","LE","EQ","LPAREN","RPAREN","SEPARATOR","INT","DECIMAL","DATE_TIME","IDENTIFIER","WS","LETTER","DIGIT"]),I.EOF=t.Token.EOF,I.T__0=1,I.T__1=2,I.T__2=3,I.T__3=4,I.T__4=5,I.T__5=6,I.T__6=7,I.T__7=8,I.IF=9,I.FROM=10,I.THEN=11,I.ANY=12,I.EMPTY=13,I.NOT=14,I.COMPLEX=15,I.COUNT=16,I.COUNT_COMPLEX=17,I.DISTINCT=18,I.IMPACT_SIDES=19,I.AND=20,I.OR=21,I.GT=22,I.GE=23,I.LT=24,I.LE=25,I.EQ=26,I.LPAREN=27,I.RPAREN=28,I.SEPARATOR=29,I.INT=30,I.DECIMAL=31,I.DATE_TIME=32,I.IDENTIFIER=33,I.WS=34;var O=function(e){o(n,t.tree.ParseTreeVisitor);var i=T(n);function n(){return r(this,n),i.apply(this,arguments)}return a(n,[{key:"visitParse",value:function(t){return this.visitChildren(t)}},{key:"visitNumbersExpr",value:function(t){return this.visitChildren(t)}},{key:"visitComparatorExpr",value:function(t){return this.visitChildren(t)}},{key:"visitComplexExpr",value:function(t){return this.visitChildren(t)}},{key:"visitNumberExpr",value:function(t){return this.visitChildren(t)}},{key:"visitBinaryExpr",value:function(t){return this.visitChildren(t)}},{key:"visitParenExpr",value:function(t){return this.visitChildren(t)}},{key:"visitCountExpr",value:function(t){return this.visitChildren(t)}},{key:"visitNotExpr",value:function(t){return this.visitChildren(t)}},{key:"visitCountComplexExpr",value:function(t){return this.visitChildren(t)}},{key:"visitValueExpr",value:function(t){return this.visitChildren(t)}},{key:"visitEmptyExpr",value:function(t){return this.visitChildren(t)}},{key:"visitVehicleImpactExpr",value:function(t){return this.visitChildren(t)}},{key:"visitValuesExpr",value:function(t){return this.visitChildren(t)}},{key:"visitAnyExpr",value:function(t){return this.visitChildren(t)}},{key:"visitDateTime",value:function(t){return this.visitChildren(t)}},{key:"visitVehicleImpact",value:function(t){return this.visitChildren(t)}},{key:"visitNumber",value:function(t){return this.visitChildren(t)}},{key:"visitNumbers",value:function(t){return this.visitChildren(t)}},{key:"visitField",value:function(t){return this.visitChildren(t)}},{key:"visitOp",value:function(t){return this.visitChildren(t)}},{key:"visitComparator",value:function(t){return this.visitChildren(t)}},{key:"visitBinary",value:function(t){return this.visitChildren(t)}},{key:"visitNot",value:function(t){return this.visitChildren(t)}},{key:"visitComplex",value:function(t){return this.visitChildren(t)}},{key:"visitCount",value:function(t){return this.visitChildren(t)}},{key:"visitCountComplex",value:function(t){return this.visitChildren(t)}},{key:"visitValue",value:function(t){return this.visitChildren(t)}},{key:"visitValues",value:function(t){return this.visitChildren(t)}}]),n}(),A=(new t.atn.ATNDeserializer).deserialize([4,1,34,211,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,113,8,1,1,1,1,1,1,1,1,1,5,1,119,8,1,10,1,12,1,122,9,1,1,2,1,2,1,3,1,3,1,3,1,3,1,4,1,4,1,5,1,5,1,5,5,5,135,8,5,10,5,12,5,138,9,5,1,6,1,6,1,7,1,7,1,8,1,8,1,8,3,8,147,8,8,1,9,1,9,1,10,1,10,1,10,1,10,3,10,155,8,10,1,10,1,10,1,11,1,11,1,11,1,11,1,11,1,12,1,12,1,12,1,12,3,12,168,8,12,1,12,1,12,1,12,1,13,1,13,1,13,1,13,1,13,1,13,1,13,3,13,180,8,13,1,13,1,13,1,13,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,1,14,5,14,198,8,14,10,14,12,14,201,9,14,1,15,1,15,1,15,5,15,206,8,15,10,15,12,15,209,9,15,1,15,3,136,199,207,1,2,16,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,0,4,1,0,30,31,1,0,22,26,1,0,20,21,3,0,1,1,9,21,29,29,226,0,32,1,0,0,0,2,112,1,0,0,0,4,123,1,0,0,0,6,125,1,0,0,0,8,129,1,0,0,0,10,131,1,0,0,0,12,139,1,0,0,0,14,141,1,0,0,0,16,143,1,0,0,0,18,148,1,0,0,0,20,150,1,0,0,0,22,158,1,0,0,0,24,163,1,0,0,0,26,172,1,0,0,0,28,199,1,0,0,0,30,202,1,0,0,0,32,33,3,2,1,0,33,34,5,0,0,1,34,1,1,0,0,0,35,36,6,1,-1,0,36,37,5,9,0,0,37,38,3,16,8,0,38,39,5,10,0,0,39,40,3,12,6,0,40,41,5,11,0,0,41,113,1,0,0,0,42,43,5,9,0,0,43,44,5,12,0,0,44,45,5,10,0,0,45,46,3,12,6,0,46,47,5,11,0,0,47,113,1,0,0,0,48,49,5,9,0,0,49,50,5,13,0,0,50,51,5,10,0,0,51,52,3,12,6,0,52,53,5,11,0,0,53,113,1,0,0,0,54,55,5,9,0,0,55,56,3,8,4,0,56,57,5,10,0,0,57,58,3,12,6,0,58,59,5,11,0,0,59,113,1,0,0,0,60,61,5,9,0,0,61,62,3,10,5,0,62,63,5,10,0,0,63,64,3,12,6,0,64,65,5,11,0,0,65,113,1,0,0,0,66,67,5,9,0,0,67,68,3,20,10,0,68,69,5,10,0,0,69,70,3,12,6,0,70,71,5,11,0,0,71,113,1,0,0,0,72,73,5,9,0,0,73,74,3,22,11,0,74,75,5,10,0,0,75,76,3,12,6,0,76,77,5,11,0,0,77,113,1,0,0,0,78,79,5,9,0,0,79,80,3,24,12,0,80,81,5,10,0,0,81,82,3,12,6,0,82,83,5,11,0,0,83,113,1,0,0,0,84,85,5,9,0,0,85,86,3,26,13,0,86,87,5,10,0,0,87,88,3,12,6,0,88,89,5,11,0,0,89,113,1,0,0,0,90,91,5,27,0,0,91,92,3,2,1,0,92,93,5,28,0,0,93,113,1,0,0,0,94,95,5,9,0,0,95,96,3,6,3,0,96,97,5,10,0,0,97,98,3,12,6,0,98,99,5,11,0,0,99,113,1,0,0,0,100,101,5,9,0,0,101,102,3,28,14,0,102,103,5,10,0,0,103,104,3,12,6,0,104,105,5,11,0,0,105,113,1,0,0,0,106,107,5,9,0,0,107,108,3,30,15,0,108,109,5,10,0,0,109,110,3,12,6,0,110,111,5,11,0,0,111,113,1,0,0,0,112,35,1,0,0,0,112,42,1,0,0,0,112,48,1,0,0,0,112,54,1,0,0,0,112,60,1,0,0,0,112,66,1,0,0,0,112,72,1,0,0,0,112,78,1,0,0,0,112,84,1,0,0,0,112,90,1,0,0,0,112,94,1,0,0,0,112,100,1,0,0,0,112,106,1,0,0,0,113,120,1,0,0,0,114,115,10,14,0,0,115,116,3,18,9,0,116,117,3,2,1,15,117,119,1,0,0,0,118,114,1,0,0,0,119,122,1,0,0,0,120,118,1,0,0,0,120,121,1,0,0,0,121,3,1,0,0,0,122,120,1,0,0,0,123,124,5,32,0,0,124,5,1,0,0,0,125,126,5,19,0,0,126,127,5,26,0,0,127,128,5,30,0,0,128,7,1,0,0,0,129,130,7,0,0,0,130,9,1,0,0,0,131,136,3,8,4,0,132,133,5,29,0,0,133,135,3,8,4,0,134,132,1,0,0,0,135,138,1,0,0,0,136,137,1,0,0,0,136,134,1,0,0,0,137,11,1,0,0,0,138,136,1,0,0,0,139,140,5,33,0,0,140,13,1,0,0,0,141,142,7,1,0,0,142,15,1,0,0,0,143,146,3,14,7,0,144,147,3,8,4,0,145,147,3,4,2,0,146,144,1,0,0,0,146,145,1,0,0,0,147,17,1,0,0,0,148,149,7,2,0,0,149,19,1,0,0,0,150,151,5,14,0,0,151,154,5,27,0,0,152,155,3,10,5,0,153,155,3,30,15,0,154,152,1,0,0,0,154,153,1,0,0,0,155,156,1,0,0,0,156,157,5,28,0,0,157,21,1,0,0,0,158,159,5,15,0,0,159,160,5,27,0,0,160,161,3,2,1,0,161,162,5,28,0,0,162,23,1,0,0,0,163,164,5,16,0,0,164,167,5,27,0,0,165,168,5,18,0,0,166,168,3,28,14,0,167,165,1,0,0,0,167,166,1,0,0,0,168,169,1,0,0,0,169,170,5,28,0,0,170,171,3,16,8,0,171,25,1,0,0,0,172,173,5,17,0,0,173,179,5,27,0,0,174,180,3,2,1,0,175,176,5,18,0,0,176,177,3,12,6,0,177,178,3,2,1,0,178,180,1,0,0,0,179,174,1,0,0,0,179,175,1,0,0,0,180,181,1,0,0,0,181,182,5,28,0,0,182,183,3,16,8,0,183,27,1,0,0,0,184,198,8,3,0,0,185,198,3,8,4,0,186,198,3,14,7,0,187,198,5,33,0,0,188,198,5,27,0,0,189,198,5,28,0,0,190,198,5,2,0,0,191,198,5,3,0,0,192,198,5,4,0,0,193,198,5,5,0,0,194,198,5,6,0,0,195,198,5,7,0,0,196,198,5,8,0,0,197,184,1,0,0,0,197,185,1,0,0,0,197,186,1,0,0,0,197,187,1,0,0,0,197,188,1,0,0,0,197,189,1,0,0,0,197,190,1,0,0,0,197,191,1,0,0,0,197,192,1,0,0,0,197,193,1,0,0,0,197,194,1,0,0,0,197,195,1,0,0,0,197,196,1,0,0,0,198,201,1,0,0,0,199,200,1,0,0,0,199,197,1,0,0,0,200,29,1,0,0,0,201,199,1,0,0,0,202,207,3,28,14,0,203,204,5,29,0,0,204,206,3,28,14,0,205,203,1,0,0,0,206,209,1,0,0,0,207,208,1,0,0,0,207,205,1,0,0,0,208,31,1,0,0,0,209,207,1,0,0,0,10,112,120,136,146,154,167,179,197,199,207]),F=A.decisionToState.map((function(e,i){return new t.dfa.DFA(e,i)})),P=new t.PredictionContextCache,b=function(e){o(n,t.Parser);var i=T(n);function n(e){var s;return r(this,n),(s=i.call(this,e))._interp=new t.atn.ParserATNSimulator(p(s),A,F,P),s.ruleNames=n.ruleNames,s.literalNames=n.literalNames,s.symbolicNames=n.symbolicNames,s}return a(n,[{key:"atn",get:function(){return A}},{key:"sempred",value:function(t,e,i){if(1===e)return this.expr_sempred(t,i);throw"No predicate with index:"+e}},{key:"expr_sempred",value:function(t,e){if(0===e)return this.precpred(this._ctx,14);throw"No predicate with index:"+e}},{key:"parse",value:function(){var e=new L(this,this._ctx,this.state);this.enterRule(e,0,n.RULE_parse);try{this.enterOuterAlt(e,1),this.state=32,this.expr(0),this.state=33,this.match(n.EOF)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"expr",value:function(e){void 0===e&&(e=0);var i=this._ctx,r=this.state,s=new w(this,this._ctx,r);this.enterRecursionRule(s,2,n.RULE_expr,e);try{switch(this.enterOuterAlt(s,1),this.state=112,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,0,this._ctx)){case 1:s=new S(this,s),this._ctx=s,s,this.state=36,this.match(n.IF),this.state=37,this.comparator(),this.state=38,this.match(n.FROM),this.state=39,this.field(),this.state=40,this.match(n.THEN);break;case 2:s=new q(this,s),this._ctx=s,s,this.state=42,this.match(n.IF),this.state=43,this.match(n.ANY),this.state=44,this.match(n.FROM),this.state=45,this.field(),this.state=46,this.match(n.THEN);break;case 3:s=new B(this,s),this._ctx=s,s,this.state=48,this.match(n.IF),this.state=49,this.match(n.EMPTY),this.state=50,this.match(n.FROM),this.state=51,this.field(),this.state=52,this.match(n.THEN);break;case 4:s=new H(this,s),this._ctx=s,s,this.state=54,this.match(n.IF),this.state=55,this.number(),this.state=56,this.match(n.FROM),this.state=57,this.field(),this.state=58,this.match(n.THEN);break;case 5:s=new M(this,s),this._ctx=s,s,this.state=60,this.match(n.IF),this.state=61,this.numbers(),this.state=62,this.match(n.FROM),this.state=63,this.field(),this.state=64,this.match(n.THEN);break;case 6:s=new Y(this,s),this._ctx=s,s,this.state=66,this.match(n.IF),this.state=67,this.not(),this.state=68,this.match(n.FROM),this.state=69,this.field(),this.state=70,this.match(n.THEN);break;case 7:s=new V(this,s),this._ctx=s,s,this.state=72,this.match(n.IF),this.state=73,this.complex(),this.state=74,this.match(n.FROM),this.state=75,this.field(),this.state=76,this.match(n.THEN);break;case 8:s=new j(this,s),this._ctx=s,s,this.state=78,this.match(n.IF),this.state=79,this.count(),this.state=80,this.match(n.FROM),this.state=81,this.field(),this.state=82,this.match(n.THEN);break;case 9:s=new X(this,s),this._ctx=s,s,this.state=84,this.match(n.IF),this.state=85,this.countComplex(),this.state=86,this.match(n.FROM),this.state=87,this.field(),this.state=88,this.match(n.THEN);break;case 10:s=new U(this,s),this._ctx=s,s,this.state=90,this.match(n.LPAREN),this.state=91,this.expr(0),this.state=92,this.match(n.RPAREN);break;case 11:s=new G(this,s),this._ctx=s,s,this.state=94,this.match(n.IF),this.state=95,this.vehicleImpact(),this.state=96,this.match(n.FROM),this.state=97,this.field(),this.state=98,this.match(n.THEN);break;case 12:s=new $(this,s),this._ctx=s,s,this.state=100,this.match(n.IF),this.state=101,this.value(),this.state=102,this.match(n.FROM),this.state=103,this.field(),this.state=104,this.match(n.THEN);break;case 13:s=new Q(this,s),this._ctx=s,s,this.state=106,this.match(n.IF),this.state=107,this.values(),this.state=108,this.match(n.FROM),this.state=109,this.field(),this.state=110,this.match(n.THEN)}this._ctx.stop=this._input.LT(-1),this.state=120,this._errHandler.sync(this);for(var a=this._interp.adaptivePredict(this._input,1,this._ctx);2!=a&&a!=t.atn.ATN.INVALID_ALT_NUMBER;){if(1===a){if(null!==this._parseListeners&&this.triggerExitRuleEvent(),s,s=new D(this,new w(this,i,r)),this.pushNewRecursionContext(s,2,n.RULE_expr),this.state=114,!this.precpred(this._ctx,14))throw new t.error.FailedPredicateException(this,"this.precpred(this._ctx, 14)");this.state=115,this.binary(),this.state=116,this.expr(15)}this.state=122,this._errHandler.sync(this),a=this._interp.adaptivePredict(this._input,1,this._ctx)}}catch(e){if(!(e instanceof t.error.RecognitionException))throw e;s.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.unrollRecursionContexts(i)}return s}},{key:"dateTime",value:function(){var e=new K(this,this._ctx,this.state);this.enterRule(e,4,n.RULE_dateTime);try{this.enterOuterAlt(e,1),this.state=123,this.match(n.DATE_TIME)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"vehicleImpact",value:function(){var e=new J(this,this._ctx,this.state);this.enterRule(e,6,n.RULE_vehicleImpact);try{this.enterOuterAlt(e,1),this.state=125,this.match(n.IMPACT_SIDES),this.state=126,this.match(n.EQ),this.state=127,this.match(n.INT)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"number",value:function(){var e=new Z(this,this._ctx,this.state);this.enterRule(e,8,n.RULE_number);var i=0;try{this.enterOuterAlt(e,1),this.state=129,30!==(i=this._input.LA(1))&&31!==i?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"numbers",value:function(){var e=new tt(this,this._ctx,this.state);this.enterRule(e,10,n.RULE_numbers);try{this.enterOuterAlt(e,1),this.state=131,this.number(),this.state=136,this._errHandler.sync(this);for(var i=this._interp.adaptivePredict(this._input,2,this._ctx);1!=i&&i!=t.atn.ATN.INVALID_ALT_NUMBER;)2===i&&(this.state=132,this.match(n.SEPARATOR),this.state=133,this.number()),this.state=138,this._errHandler.sync(this),i=this._interp.adaptivePredict(this._input,2,this._ctx)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"field",value:function(){var e=new et(this,this._ctx,this.state);this.enterRule(e,12,n.RULE_field);try{this.enterOuterAlt(e,1),this.state=139,this.match(n.IDENTIFIER)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"op",value:function(){var e=new it(this,this._ctx,this.state);this.enterRule(e,14,n.RULE_op);var i=0;try{this.enterOuterAlt(e,1),this.state=141,0!=(-32&(i=this._input.LA(1)))||0==(1<<i&130023424)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"comparator",value:function(){var e=new nt(this,this._ctx,this.state);this.enterRule(e,16,n.RULE_comparator);try{switch(this.enterOuterAlt(e,1),this.state=143,this.op(),this.state=146,this._errHandler.sync(this),this._input.LA(1)){case 30:case 31:this.state=144,this.number();break;case 32:this.state=145,this.dateTime();break;default:throw new t.error.NoViableAltException(this)}}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"binary",value:function(){var e=new rt(this,this._ctx,this.state);this.enterRule(e,18,n.RULE_binary);var i=0;try{this.enterOuterAlt(e,1),this.state=148,20!==(i=this._input.LA(1))&&21!==i?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"not",value:function(){var e=new st(this,this._ctx,this.state);this.enterRule(e,20,n.RULE_not);try{switch(this.enterOuterAlt(e,1),this.state=150,this.match(n.NOT),this.state=151,this.match(n.LPAREN),this.state=154,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,4,this._ctx)){case 1:this.state=152,this.numbers();break;case 2:this.state=153,this.values()}this.state=156,this.match(n.RPAREN)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"complex",value:function(){var e=new at(this,this._ctx,this.state);this.enterRule(e,22,n.RULE_complex);try{this.enterOuterAlt(e,1),this.state=158,this.match(n.COMPLEX),this.state=159,this.match(n.LPAREN),this.state=160,this.expr(0),this.state=161,this.match(n.RPAREN)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"count",value:function(){var e=new ut(this,this._ctx,this.state);this.enterRule(e,24,n.RULE_count);try{switch(this.enterOuterAlt(e,1),this.state=163,this.match(n.COUNT),this.state=164,this.match(n.LPAREN),this.state=167,this._errHandler.sync(this),this._input.LA(1)){case 18:this.state=165,this.match(n.DISTINCT);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 30:case 31:case 32:case 33:case 34:this.state=166,this.value();break;default:throw new t.error.NoViableAltException(this)}this.state=169,this.match(n.RPAREN),this.state=170,this.comparator()}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"countComplex",value:function(){var e=new ot(this,this._ctx,this.state);this.enterRule(e,26,n.RULE_countComplex);try{switch(this.enterOuterAlt(e,1),this.state=172,this.match(n.COUNT_COMPLEX),this.state=173,this.match(n.LPAREN),this.state=179,this._errHandler.sync(this),this._input.LA(1)){case 9:case 27:this.state=174,this.expr(0);break;case 18:this.state=175,this.match(n.DISTINCT),this.state=176,this.field(),this.state=177,this.expr(0);break;default:throw new t.error.NoViableAltException(this)}this.state=181,this.match(n.RPAREN),this.state=182,this.comparator()}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"value",value:function(){var e=new lt(this,this._ctx,this.state);this.enterRule(e,28,n.RULE_value);var i=0;try{this.enterOuterAlt(e,1),this.state=199,this._errHandler.sync(this);for(var r=this._interp.adaptivePredict(this._input,8,this._ctx);1!=r&&r!=t.atn.ATN.INVALID_ALT_NUMBER;){if(2===r)switch(this.state=197,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,7,this._ctx)){case 1:this.state=184,(i=this._input.LA(1))<=0||0==(-32&i)&&0!=(1<<i&541064706)?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume());break;case 2:this.state=185,this.number();break;case 3:this.state=186,this.op();break;case 4:this.state=187,this.match(n.IDENTIFIER);break;case 5:this.state=188,this.match(n.LPAREN);break;case 6:this.state=189,this.match(n.RPAREN);break;case 7:this.state=190,this.match(n.T__1);break;case 8:this.state=191,this.match(n.T__2);break;case 9:this.state=192,this.match(n.T__3);break;case 10:this.state=193,this.match(n.T__4);break;case 11:this.state=194,this.match(n.T__5);break;case 12:this.state=195,this.match(n.T__6);break;case 13:this.state=196,this.match(n.T__7)}this.state=201,this._errHandler.sync(this),r=this._interp.adaptivePredict(this._input,8,this._ctx)}}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}},{key:"values",value:function(){var e=new ct(this,this._ctx,this.state);this.enterRule(e,30,n.RULE_values);try{this.enterOuterAlt(e,1),this.state=202,this.value(),this.state=207,this._errHandler.sync(this);for(var i=this._interp.adaptivePredict(this._input,9,this._ctx);1!=i&&i!=t.atn.ATN.INVALID_ALT_NUMBER;)2===i&&(this.state=203,this.match(n.SEPARATOR),this.state=204,this.value()),this.state=209,this._errHandler.sync(this),i=this._interp.adaptivePredict(this._input,9,this._ctx)}catch(i){if(!(i instanceof t.error.RecognitionException))throw i;e.exception=i,this._errHandler.reportError(this,i),this._errHandler.recover(this,i)}finally{this.exitRule()}return e}}]),n}();u(b,"grammarFileName","java-escape"),u(b,"literalNames",[null,"'\\u0024'","'-'","'/'","'\\u00B0'","'\\u002B'","'\\u0025'","'\\u0026'","'.'","'$IF'","'$FROM'","'$THEN'","'$ANY'","'$EMPTY'","'$NOT'","'$COMPLEX'","'$COUNT'","'$COUNT_COMPLEX'","'$DISTINCT'","'impactSides'","'$AND'","'$OR'","'>'","'>='","'<'","'<='","'='","'('","')'"]),u(b,"symbolicNames",[null,null,null,null,null,null,null,null,null,"IF","FROM","THEN","ANY","EMPTY","NOT","COMPLEX","COUNT","COUNT_COMPLEX","DISTINCT","IMPACT_SIDES","AND","OR","GT","GE","LT","LE","EQ","LPAREN","RPAREN","SEPARATOR","INT","DECIMAL","DATE_TIME","IDENTIFIER","WS"]),u(b,"ruleNames",["parse","expr","dateTime","vehicleImpact","number","numbers","field","op","comparator","binary","not","complex","count","countComplex","value","values"]),b.EOF=t.Token.EOF,b.T__0=1,b.T__1=2,b.T__2=3,b.T__3=4,b.T__4=5,b.T__5=6,b.T__6=7,b.T__7=8,b.IF=9,b.FROM=10,b.THEN=11,b.ANY=12,b.EMPTY=13,b.NOT=14,b.COMPLEX=15,b.COUNT=16,b.COUNT_COMPLEX=17,b.DISTINCT=18,b.IMPACT_SIDES=19,b.AND=20,b.OR=21,b.GT=22,b.GE=23,b.LT=24,b.LE=25,b.EQ=26,b.LPAREN=27,b.RPAREN=28,b.SEPARATOR=29,b.INT=30,b.DECIMAL=31,b.DATE_TIME=32,b.IDENTIFIER=33,b.WS=34,b.RULE_parse=0,b.RULE_expr=1,b.RULE_dateTime=2,b.RULE_vehicleImpact=3,b.RULE_number=4,b.RULE_numbers=5,b.RULE_field=6,b.RULE_op=7,b.RULE_comparator=8,b.RULE_binary=9,b.RULE_not=10,b.RULE_complex=11,b.RULE_count=12,b.RULE_countComplex=13,b.RULE_value=14,b.RULE_values=15;var L=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_parse,a}return a(n,[{key:"expr",value:function(){return this.getTypedRuleContext(w,0)}},{key:"EOF",value:function(){return this.getToken(b.EOF,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitParse(this):t.visitChildren(this)}}]),n}(),w=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_expr,a}return a(n,[{key:"copyFrom",value:function(t){E(l(n.prototype),"copyFrom",this).call(this,t)}}]),n}(),M=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"numbers",value:function(){return this.getTypedRuleContext(tt,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitNumbersExpr(this):t.visitChildren(this)}}]),i}();b.NumbersExprContext=M;var S=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"comparator",value:function(){return this.getTypedRuleContext(nt,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitComparatorExpr(this):t.visitChildren(this)}}]),i}();b.ComparatorExprContext=S;var V=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"complex",value:function(){return this.getTypedRuleContext(at,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitComplexExpr(this):t.visitChildren(this)}}]),i}();b.ComplexExprContext=V;var H=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"number",value:function(){return this.getTypedRuleContext(Z,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitNumberExpr(this):t.visitChildren(this)}}]),i}();b.NumberExprContext=H;var D=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),u(p(a=e.call(this,t)),"expr",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(w):this.getTypedRuleContext(w,t)})),E((s=p(a),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"binary",value:function(){return this.getTypedRuleContext(rt,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitBinaryExpr(this):t.visitChildren(this)}}]),i}();b.BinaryExprContext=D;var U=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"LPAREN",value:function(){return this.getToken(b.LPAREN,0)}},{key:"expr",value:function(){return this.getTypedRuleContext(w,0)}},{key:"RPAREN",value:function(){return this.getToken(b.RPAREN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitParenExpr(this):t.visitChildren(this)}}]),i}();b.ParenExprContext=U;var j=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"count",value:function(){return this.getTypedRuleContext(ut,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitCountExpr(this):t.visitChildren(this)}}]),i}();b.CountExprContext=j;var Y=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"not",value:function(){return this.getTypedRuleContext(st,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitNotExpr(this):t.visitChildren(this)}}]),i}();b.NotExprContext=Y;var X=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"countComplex",value:function(){return this.getTypedRuleContext(ot,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitCountComplexExpr(this):t.visitChildren(this)}}]),i}();b.CountComplexExprContext=X;var $=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"value",value:function(){return this.getTypedRuleContext(lt,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitValueExpr(this):t.visitChildren(this)}}]),i}();b.ValueExprContext=$;var B=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"EMPTY",value:function(){return this.getToken(b.EMPTY,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitEmptyExpr(this):t.visitChildren(this)}}]),i}();b.EmptyExprContext=B;var G=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"vehicleImpact",value:function(){return this.getTypedRuleContext(J,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitVehicleImpactExpr(this):t.visitChildren(this)}}]),i}();b.VehicleImpactExprContext=G;var Q=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"values",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitValuesExpr(this):t.visitChildren(this)}}]),i}();b.ValuesExprContext=Q;var q=function(t){o(i,w);var e=T(i);function i(t,n){var s,a;return r(this,i),E((s=p(a=e.call(this,t)),l(i.prototype)),"copyFrom",s).call(s,n),a}return a(i,[{key:"IF",value:function(){return this.getToken(b.IF,0)}},{key:"ANY",value:function(){return this.getToken(b.ANY,0)}},{key:"FROM",value:function(){return this.getToken(b.FROM,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"THEN",value:function(){return this.getToken(b.THEN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitAnyExpr(this):t.visitChildren(this)}}]),i}();b.AnyExprContext=q;var z,W,K=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_dateTime,a}return a(n,[{key:"DATE_TIME",value:function(){return this.getToken(b.DATE_TIME,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitDateTime(this):t.visitChildren(this)}}]),n}(),J=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_vehicleImpact,a}return a(n,[{key:"IMPACT_SIDES",value:function(){return this.getToken(b.IMPACT_SIDES,0)}},{key:"EQ",value:function(){return this.getToken(b.EQ,0)}},{key:"INT",value:function(){return this.getToken(b.INT,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitVehicleImpact(this):t.visitChildren(this)}}]),n}(),Z=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_number,a}return a(n,[{key:"INT",value:function(){return this.getToken(b.INT,0)}},{key:"DECIMAL",value:function(){return this.getToken(b.DECIMAL,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitNumber(this):t.visitChildren(this)}}]),n}(),tt=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),u(p(a=i.call(this,e,s)),"number",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Z):this.getTypedRuleContext(Z,t)})),u(p(a),"SEPARATOR",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.SEPARATOR):this.getToken(b.SEPARATOR,t)})),a.parser=t,a.ruleIndex=b.RULE_numbers,a}return a(n,[{key:"accept",value:function(t){return t instanceof O?t.visitNumbers(this):t.visitChildren(this)}}]),n}(),et=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_field,a}return a(n,[{key:"IDENTIFIER",value:function(){return this.getToken(b.IDENTIFIER,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitField(this):t.visitChildren(this)}}]),n}(),it=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_op,a}return a(n,[{key:"GT",value:function(){return this.getToken(b.GT,0)}},{key:"GE",value:function(){return this.getToken(b.GE,0)}},{key:"LT",value:function(){return this.getToken(b.LT,0)}},{key:"LE",value:function(){return this.getToken(b.LE,0)}},{key:"EQ",value:function(){return this.getToken(b.EQ,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitOp(this):t.visitChildren(this)}}]),n}(),nt=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_comparator,a}return a(n,[{key:"op",value:function(){return this.getTypedRuleContext(it,0)}},{key:"number",value:function(){return this.getTypedRuleContext(Z,0)}},{key:"dateTime",value:function(){return this.getTypedRuleContext(K,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitComparator(this):t.visitChildren(this)}}]),n}(),rt=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_binary,a}return a(n,[{key:"AND",value:function(){return this.getToken(b.AND,0)}},{key:"OR",value:function(){return this.getToken(b.OR,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitBinary(this):t.visitChildren(this)}}]),n}(),st=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_not,a}return a(n,[{key:"NOT",value:function(){return this.getToken(b.NOT,0)}},{key:"LPAREN",value:function(){return this.getToken(b.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(b.RPAREN,0)}},{key:"numbers",value:function(){return this.getTypedRuleContext(tt,0)}},{key:"values",value:function(){return this.getTypedRuleContext(ct,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitNot(this):t.visitChildren(this)}}]),n}(),at=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_complex,a}return a(n,[{key:"COMPLEX",value:function(){return this.getToken(b.COMPLEX,0)}},{key:"LPAREN",value:function(){return this.getToken(b.LPAREN,0)}},{key:"expr",value:function(){return this.getTypedRuleContext(w,0)}},{key:"RPAREN",value:function(){return this.getToken(b.RPAREN,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitComplex(this):t.visitChildren(this)}}]),n}(),ut=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_count,a}return a(n,[{key:"COUNT",value:function(){return this.getToken(b.COUNT,0)}},{key:"LPAREN",value:function(){return this.getToken(b.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(b.RPAREN,0)}},{key:"comparator",value:function(){return this.getTypedRuleContext(nt,0)}},{key:"DISTINCT",value:function(){return this.getToken(b.DISTINCT,0)}},{key:"value",value:function(){return this.getTypedRuleContext(lt,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitCount(this):t.visitChildren(this)}}]),n}(),ot=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),(a=i.call(this,e,s)).parser=t,a.ruleIndex=b.RULE_countComplex,a}return a(n,[{key:"COUNT_COMPLEX",value:function(){return this.getToken(b.COUNT_COMPLEX,0)}},{key:"LPAREN",value:function(){return this.getToken(b.LPAREN,0)}},{key:"RPAREN",value:function(){return this.getToken(b.RPAREN,0)}},{key:"comparator",value:function(){return this.getTypedRuleContext(nt,0)}},{key:"expr",value:function(){return this.getTypedRuleContext(w,0)}},{key:"DISTINCT",value:function(){return this.getToken(b.DISTINCT,0)}},{key:"field",value:function(){return this.getTypedRuleContext(et,0)}},{key:"accept",value:function(t){return t instanceof O?t.visitCountComplex(this):t.visitChildren(this)}}]),n}(),lt=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),u(p(a=i.call(this,e,s)),"number",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(Z):this.getTypedRuleContext(Z,t)})),u(p(a),"op",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(it):this.getTypedRuleContext(it,t)})),u(p(a),"IDENTIFIER",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.IDENTIFIER):this.getToken(b.IDENTIFIER,t)})),u(p(a),"LPAREN",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.LPAREN):this.getToken(b.LPAREN,t)})),u(p(a),"RPAREN",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.RPAREN):this.getToken(b.RPAREN,t)})),u(p(a),"SEPARATOR",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.SEPARATOR):this.getToken(b.SEPARATOR,t)})),u(p(a),"IF",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.IF):this.getToken(b.IF,t)})),u(p(a),"FROM",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.FROM):this.getToken(b.FROM,t)})),u(p(a),"THEN",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.THEN):this.getToken(b.THEN,t)})),u(p(a),"ANY",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.ANY):this.getToken(b.ANY,t)})),u(p(a),"EMPTY",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.EMPTY):this.getToken(b.EMPTY,t)})),u(p(a),"NOT",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.NOT):this.getToken(b.NOT,t)})),u(p(a),"COMPLEX",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.COMPLEX):this.getToken(b.COMPLEX,t)})),u(p(a),"COUNT",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.COUNT):this.getToken(b.COUNT,t)})),u(p(a),"COUNT_COMPLEX",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.COUNT_COMPLEX):this.getToken(b.COUNT_COMPLEX,t)})),u(p(a),"DISTINCT",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.DISTINCT):this.getToken(b.DISTINCT,t)})),u(p(a),"IMPACT_SIDES",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.IMPACT_SIDES):this.getToken(b.IMPACT_SIDES,t)})),u(p(a),"AND",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.AND):this.getToken(b.AND,t)})),u(p(a),"OR",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.OR):this.getToken(b.OR,t)})),a.parser=t,a.ruleIndex=b.RULE_value,a}return a(n,[{key:"accept",value:function(t){return t instanceof O?t.visitValue(this):t.visitChildren(this)}}]),n}(),ct=function(e){o(n,t.ParserRuleContext);var i=T(n);function n(t,e,s){var a;return r(this,n),void 0===e&&(e=null),null==s&&(s=-1),u(p(a=i.call(this,e,s)),"value",(function(t){return void 0===t&&(t=null),null===t?this.getTypedRuleContexts(lt):this.getTypedRuleContext(lt,t)})),u(p(a),"SEPARATOR",(function(t){return void 0===t&&(t=null),null===t?this.getTokens(b.SEPARATOR):this.getToken(b.SEPARATOR,t)})),a.parser=t,a.ruleIndex=b.RULE_values,a}return a(n,[{key:"accept",value:function(t){return t instanceof O?t.visitValues(this):t.visitChildren(this)}}]),n}();b.ParseContext=L,b.ExprContext=w,b.DateTimeContext=K,b.VehicleImpactContext=J,b.NumberContext=Z,b.NumbersContext=tt,b.FieldContext=et,b.OpContext=it,b.ComparatorContext=nt,b.BinaryContext=rt,b.NotContext=st,b.ComplexContext=at,b.CountContext=ut,b.CountComplexContext=ot,b.ValueContext=lt,b.ValuesContext=ct,function(t){t.string="string",t.enum="enum",t.integer="integer",t.timestamp="timestamp",t.complex="complex",t.decimal="decimal",t.enum_list="enum_list",t.injury="injury",t.user="user",t.image="image",t.user_list="user_list",t.icd="icd",t.ais="ais",t.custom="custom",t.vehicleImpactType="vehicleImpactType",t.address="address"}(z||(z={})),function(t){t.LEXER="Lexer",t.PARSER="Parser",t.EVALUATE_VISITOR="EvaluateConditionVisitor",t.FORMAT_VISITOR="FormatConditionVisitor"}(W||(W={}));var ht,vt=function(e){o(n,t.error.ErrorListener);var i=T(n);function n(){return r(this,n),i.apply(this,arguments)}return a(n,[{key:"isLexer",value:function(t){return t instanceof I}},{key:"syntaxError",value:function(t,e,i,n,r,s){var a=this.isLexer(t)?W.LEXER:W.PARSER;this.report=new C({message:r,source:a,line:i,column:n,recognizer:t,offendingSymbol:e,e:s})}}],[{key:"getInstance",value:function(){return n.instance||(n.instance=new n),n.instance}},{key:"clearInstance",value:function(){n.instance=null}}]),n}(),ft=t.InputStream,pt=a((function t(e){r(this,t);var i=new ft(e,!0),n=new I(i);n.removeErrorListeners();var s=vt.getInstance();n.addErrorListener(s),this.lexer=n})),dt=t.CommonTokenStream,Tt=a((function t(e){r(this,t);var i=e.lexer,n=new dt(i),s=new b(n);s.buildParseTrees=!0,s.removeErrorListeners();var a=vt.getInstance();s.addErrorListener(a),this.parser=s,this.ast=s.parse(),this.error=a.report,vt.clearInstance()})),yt=function(t){o(i,O);var e=T(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return r(this,i),u(p(t=e.call(this)),"exprLvl",0),u(p(t),"formattedCondition",""),t.indent=" ".repeat(n),t}return a(i,[{key:"getExprIndent",value:function(){return this.exprLvl?this.indent.repeat(this.exprLvl):""}},{key:"getConditionValue",value:function(t){var e=t.start.source[1];if(!e)throw new Error("InputStream is missing in TokenSourceTuple");return e.getText(t.start.start,t.stop.stop)}},{key:"visitParse",value:function(t){try{this.formattedCondition=E(l(i.prototype),"visit",this).call(this,t.expr()).trim()}catch(t){throw t}}},{key:"visitBinaryExpr",value:function(t){var e=this.getExprIndent(),n=E(l(i.prototype),"visit",this).call(this,t.expr(0)),r=E(l(i.prototype),"visit",this).call(this,t.expr(1)),s=t.binary().OR()?t.binary().OR().getText():t.binary().AND().getText();return"".concat(n).concat(e).concat(s,"\n").concat(r)}},{key:"visitComparatorExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.comparator().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitAnyExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.ANY().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitEmptyExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.EMPTY().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitNumberExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.number().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitNumbersExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.numbers().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitNotExpr",value:function(t){var e=this,i=this.getExprIndent(),n=t.IF().getText(),r=t.not().NOT().getText(),s=t.not().LPAREN().getText(),a=t.not().numbers()?t.not().numbers().getText():t.not().values().value().map((function(t){return e.getConditionValue(t)})),u=t.not().RPAREN().getText(),o=t.FROM().getText(),l=t.field().getText(),c=t.THEN().getText();return"".concat(i).concat(n," ").concat(r).concat(s).concat(a).concat(u," ").concat(o," ").concat(l," ").concat(c,"\n")}},{key:"visitComplexExpr",value:function(t){var e=this.getExprIndent(),n=t.IF().getText(),r=t.complex().COMPLEX().getText(),s=t.complex().LPAREN().getText();this.exprLvl++;var a=E(l(i.prototype),"visit",this).call(this,t.complex().expr());this.exprLvl--;var u=t.complex().RPAREN().getText(),o=t.FROM().getText(),c=t.field().getText(),h=t.THEN().getText();return"".concat(e).concat(n," ").concat(r).concat(s,"\n").concat(a).concat(e).concat(u," ").concat(o," ").concat(c," ").concat(h,"\n")}},{key:"visitCountExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.count().COUNT().getText(),r=t.count().LPAREN().getText(),s=t.count().DISTINCT()?t.count().DISTINCT().getText():this.getConditionValue(t.count().value()),a=t.count().RPAREN().getText(),u=t.count().comparator().getText(),o=t.FROM().getText(),l=t.field().getText(),c=t.THEN().getText();return"".concat(e).concat(i," ").concat(n).concat(r).concat(s).concat(a).concat(u," ").concat(o," ").concat(l," ").concat(c,"\n")}},{key:"visitCountComplexExpr",value:function(t){var e=this.getExprIndent(),n=t.IF().getText(),r=t.countComplex().COUNT_COMPLEX().getText(),s=t.countComplex().LPAREN().getText();this.exprLvl++;var a=E(l(i.prototype),"visit",this).call(this,t.countComplex().expr());this.exprLvl--;var u=t.countComplex().RPAREN().getText(),o=t.countComplex().comparator().getText(),c=t.FROM().getText(),h=t.field().getText(),v=t.THEN().getText();if(t.countComplex().DISTINCT()){var f=t.countComplex().DISTINCT().getText(),p=t.countComplex().field().getText();return"".concat(e).concat(n," ").concat(r).concat(s,"\n").concat(e).concat(this.indent).concat(f," ").concat(p,"\n").concat(a).concat(e).concat(u).concat(o," ").concat(c," ").concat(h," ").concat(v,"\n")}return"".concat(e).concat(n," ").concat(r).concat(s,"\n").concat(a).concat(e).concat(u).concat(o," ").concat(c," ").concat(h," ").concat(v,"\n")}},{key:"visitParenExpr",value:function(t){var e=t.LPAREN().getText(),n=this.getExprIndent();this.exprLvl++;var r=E(l(i.prototype),"visit",this).call(this,t.expr());this.exprLvl--;var s=this.getExprIndent(),a=t.RPAREN().getText();return"".concat(n).concat(e,"\n").concat(r).concat(s).concat(a,"\n")}},{key:"visitVehicleImpactExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=t.vehicleImpact().getText(),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitValueExpr",value:function(t){var e=this.getExprIndent(),i=t.IF().getText(),n=this.getConditionValue(t.value()),r=t.FROM().getText(),s=t.field().getText(),a=t.THEN().getText();return"".concat(e).concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"\n")}},{key:"visitValuesExpr",value:function(t){var e=this,i=this.getExprIndent(),n=t.IF().getText(),r=t.values().value().map((function(t){return e.getConditionValue(t)})),s=t.FROM().getText(),a=t.field().getText(),u=t.THEN().getText();return"".concat(i).concat(n," ").concat(r," ").concat(s," ").concat(a," ").concat(u,"\n")}}]),i}(),Et=function(t){o(i,O);var e=T(i);function i(){var t;return r(this,i),(t=e.call(this)).fieldNamesSet=new Set,t}return a(i,[{key:"visitParse",value:function(t){return E(l(i.prototype),"visit",this).call(this,t.expr()),null}},{key:"visitValueExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitValuesExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitComparatorExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitAnyExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitEmptyExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),E(l(i.prototype),"visitEmptyExpr",this).call(this,t)}},{key:"visitNotExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitNumberExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitBinaryExpr",value:function(t){return E(l(i.prototype),"visit",this).call(this,t.expr(0)),E(l(i.prototype),"visit",this).call(this,t.expr(1)),null}},{key:"visitNumbersExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitParenExpr",value:function(t){return E(l(i.prototype),"visit",this).call(this,t.expr()),null}},{key:"visitComplexExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),E(l(i.prototype),"visit",this).call(this,t.complex().expr()),null}},{key:"visitCountExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"visitCountComplexExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null!==t.countComplex().DISTINCT()&&this.fieldNamesSet.add(t.countComplex().field().getText()),E(l(i.prototype),"visit",this).call(this,t.countComplex().expr()),null}},{key:"visitVehicleImpactExpr",value:function(t){return this.fieldNamesSet.add(t.field().getText()),null}},{key:"fieldNames",get:function(){return x(this.fieldNamesSet)}}]),i}();!function(t){t.D="d",t.M="m",t.Y="y"}(ht||(ht={}));var xt=function(t){o(s,O);var i=T(s);function s(t){var e;return r(this,s),u(p(e=i.call(this)),"fieldTokensScope",{}),u(p(e),"evaluationResult",!1),u(p(e),"triggeredFieldTokens",null),e.setFieldTokensScope(t),e}return a(s,[{key:"setFieldTokensScope",value:function(t){this.isArray(t)?this.fieldTokensScope=function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=g(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;n[s.fieldName]=n[s.fieldName]?[].concat(x(n[s.fieldName]),[s]):[s],s.fieldType===z.complex&&t(s.children,n)}}catch(t){r.e(t)}finally{r.f()}return n}(t):this.fieldTokensScope=n({},t)}},{key:"checkFieldType",value:function(t,e){if(!t.every((function(t){return e.includes(t.fieldType)})))throw new Error("Incorrect model type for [".concat(t[0].fieldName,"]: actual - [").concat(t[0].fieldType,"], requested - [").concat(e.join("|"),"]"))}},{key:"getRelevantFieldTokens",value:function(t){var e=this.fieldTokensScope[t];return e&&e.length>0?e:null}},{key:"getConditionValue",value:function(t){var e=t.start.source[1];if(!e)throw new Error("InputStream is missing in TokenSourceTuple");return e.getText(t.start.start,t.stop.stop)}},{key:"truthifyResult",value:function(t,e){if(t){var i=n({},t);return i.triggeredFieldTokens=i.triggeredFieldTokens.add(e),i}return{evaluationResult:!0,triggeredFieldTokens:(new Set).add(e)}}},{key:"dateTimeValueParse",value:function(t){var e=t.match(/^[1-9]\d*/),i=t.match(/[a-z]+$/i),n=e?e[0]:e,r=i?i[0].toLowerCase():i;switch(r){case"day":case"days":r=ht.D;break;case"month":case"months":r=ht.M;break;case"year":case"years":r=ht.Y}return{value:n,unit:r}}},{key:"dateTimeValueConverter",value:function(t,e,i,n){var r=Number(e),s=Number(n);return t===i?{tokenValue:r,conditionValue:s}:t===ht.D&&i===ht.M?{tokenValue:r/30,conditionValue:s}:t===ht.D&&i===ht.Y?{tokenValue:r/360,conditionValue:s}:t===ht.M&&i===ht.D?{tokenValue:30*r,conditionValue:s}:t===ht.M&&i===ht.Y?{tokenValue:r/12,conditionValue:s}:t===ht.Y&&i===ht.D?{tokenValue:360*r,conditionValue:s}:t===ht.Y&&i===ht.M?{tokenValue:12*r,conditionValue:s}:void 0}},{key:"compare",value:function(t,e,i){return t.GT()?e>i:t.GE()?e>=i:t.LT()?e<i:t.LE()?e<=i:!!t.EQ()&&e===i}},{key:"isTruthy",value:function(t){return null!==t}},{key:"isTokenValueEmpty",value:function(t){var e=t.fieldType,i=t.fieldValue;switch(e){case z.complex:return void 0===i;case z.decimal:case z.integer:case z.timestamp:return null===i;case z.ais:case z.enum:case z.string:return""===i;case z.enum_list:try{return 0===i.length}catch(t){throw new Error("Check the value for the enum_list type field. It must be like array literal - []")}case z.image:try{return i.hasOwnProperty("images")&&0===i.images.length}catch(t){throw new Error("Check the value for the image type field. It must be like this object literal - { images: [] }")}case z.vehicleImpactType:try{return 0===Object.keys(i).length}catch(t){throw new Error("Check the value for the vehicleImpactType field. It must be like object literal - {}")}default:throw new Error("Check the fieldType for the value")}}},{key:"isTokenValuesEqual",value:function(t,i){if(t.fieldType!==i.fieldType)throw new Error("Field types must be equal");switch(t.fieldType){case z.ais:case z.enum:case z.string:case z.decimal:case z.integer:return t.fieldValue===i.fieldValue;case z.timestamp:try{return null===t.fieldValue||null===i.fieldValue?t.fieldValue===i.fieldValue:t.fieldValue.getTime()===i.fieldValue.getTime()}catch(t){throw new Error("Check the value for the timestamp type. It must be Date type")}case z.enum_list:try{var r=t.fieldValue,s=i.fieldValue;return this.isArraysEqual(r,s)}catch(t){throw new Error("Check the value for the enum_list type field. It must be like array literal - []")}case z.image:try{var a=t.fieldValue,u=i.fieldValue;return e(a,u)}catch(t){throw new Error("Check the value for the image type field. It must be like this object literal - { images: [] }")}case z.vehicleImpactType:try{var o=n({},t.fieldValue);delete o.passengerPositions,delete o.impactSides;var l,c,h,v,f=n({},i.fieldValue);return delete f.passengerPositions,delete f.impactSides,e(o,f)?this.isArraysEqual(null!==(l=t.fieldValue.passengerPositions)&&void 0!==l?l:[],null!==(c=i.fieldValue.passengerPositions)&&void 0!==c?c:[])&&this.isArraysEqual(null!==(h=t.fieldValue.impactSides)&&void 0!==h?h:[],null!==(v=i.fieldValue.impactSides)&&void 0!==v?v:[]):!1}catch(t){throw new Error("Check the value for the vehicleImpactType field. It must be like object literal - {}")}default:throw new Error("Check the fieldType for the value")}}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isArraysEqual",value:function(t,e){return t.length===e.length&&t.every((function(t){return e.includes(t)}))}},{key:"isNumeric",value:function(t){return t.fieldType===z.integer||t.fieldType===z.decimal}},{key:"isString",value:function(t){return t.fieldType===z.ais||t.fieldType===z.enum||t.fieldType===z.string}},{key:"isEnumList",value:function(t){return t.fieldType===z.enum_list}},{key:"visitParse",value:function(t){try{var e=E(l(s.prototype),"visit",this).call(this,t.expr());if(e){var i=e.evaluationResult,n=e.triggeredFieldTokens;this.evaluationResult=i,this.triggeredFieldTokens=x(n)}}catch(t){throw t}}},{key:"visitBinaryExpr",value:function(t){var e=null,i=E(l(s.prototype),"visit",this).call(this,t.expr(0)),n=E(l(s.prototype),"visit",this).call(this,t.expr(1));return!!t.binary().OR()?this.isTruthy(i)&&this.isTruthy(n)?e={evaluationResult:!0,triggeredFieldTokens:new Set([].concat(x(i.triggeredFieldTokens),x(n.triggeredFieldTokens)))}:this.isTruthy(i)?i:this.isTruthy(n)?n:e:this.isTruthy(i)&&this.isTruthy(n)?e={evaluationResult:!0,triggeredFieldTokens:new Set([].concat(x(i.triggeredFieldTokens),x(n.triggeredFieldTokens)))}:e}},{key:"visitComparatorExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r=[z.string,z.integer,z.decimal];this.checkFieldType(n,r);var s,a=t.comparator().number()?this.getConditionValue(t.comparator().number()):this.getConditionValue(t.comparator().dateTime()),u=t.comparator().op(),o=g(n);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(this.isString(l)){var c=this.dateTimeValueParse(l.fieldValue),h=c.value,v=c.unit,f=this.dateTimeValueParse(a),p=f.value,d=f.unit;if(null!==h&&null!==v&&null!==p&&null!==d){var T=this.dateTimeValueConverter(v,h,d,p);if(T){var y=T.tokenValue,E=T.conditionValue;this.compare(u,y,E)&&(e=this.truthifyResult(e,l))}}}else this.isNumeric(l)&&null!==l.fieldValue&&this.compare(u,l.fieldValue,Number(a))&&(e=this.truthifyResult(e,l))}}catch(t){o.e(t)}finally{o.f()}return e}},{key:"visitAnyExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r,s=g(n);try{for(s.s();!(r=s.n()).done;){var a=r.value;this.isTokenValueEmpty(a)||(e=this.truthifyResult(e,a))}}catch(t){s.e(t)}finally{s.f()}return e}},{key:"visitEmptyExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(n){var r,s=g(n);try{for(s.s();!(r=s.n()).done;){var a=r.value;this.isTokenValueEmpty(a)&&(e=this.truthifyResult(e,a))}}catch(t){s.e(t)}finally{s.f()}}else e={evaluationResult:!0,triggeredFieldTokens:new Set};return e}},{key:"visitNumberExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r=[z.ais,z.integer,z.decimal];this.checkFieldType(n,r);var s,a=this.getConditionValue(t.number()),u=g(n);try{for(u.s();!(s=u.n()).done;){var o=s.value;(this.isString(o)&&o.fieldValue===a||this.isNumeric(o)&&null!==o.fieldValue&&o.fieldValue===Number(a))&&(e=this.truthifyResult(e,o))}}catch(t){u.e(t)}finally{u.f()}return e}},{key:"visitNumbersExpr",value:function(t){var e=this,i=null,n=t.field().getText(),r=this.getRelevantFieldTokens(n);if(!r)return i;var s=[z.ais,z.integer,z.decimal];this.checkFieldType(r,s);var a,u=t.numbers().number().map((function(t){return e.getConditionValue(t)})),o=g(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;(this.isString(l)&&u.includes(l.fieldValue)||this.isNumeric(l)&&null!==l.fieldValue&&u.includes(String(l.fieldValue)))&&(i=this.truthifyResult(i,l))}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"visitNotExpr",value:function(t){var e=this,i=null,n=t.field().getText(),r=this.getRelevantFieldTokens(n);if(!r)return i;var s=[z.ais,z.integer,z.decimal,z.string,z.enum,z.enum_list];this.checkFieldType(r,s);var a,u=t.not().numbers()?t.not().numbers().number().map((function(t){return e.getConditionValue(t)})):t.not().values().value().map((function(t){return e.getConditionValue(t).toLowerCase()})),o=g(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;this.isString(l)&&!u.includes(l.fieldValue.toLowerCase())||this.isNumeric(l)&&!u.includes(String(l.fieldValue))?i=this.truthifyResult(i,l):this.isEnumList(l)&&function(){var t=l.fieldValue.map((function(t){return t.toLowerCase()}));u.every((function(e){return!t.includes(e)}))&&(i=e.truthifyResult(i,l))}()}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"visitComplexExpr",value:function(t){return E(l(s.prototype),"visit",this).call(this,t.complex().expr())}},{key:"visitCountExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r=[z.string,z.enum];this.checkFieldType(n,r);var s=t.count().value()?this.getConditionValue(t.count().value()):null,a=t.count().comparator().op(),u=this.getConditionValue(t.count().comparator().number()),o=s?n.filter((function(t){return t.fieldValue===s})):n.reduce((function(t,e){return t.every((function(t){return t.fieldValue!==e.fieldValue}))&&t.push(e),t}),[]);if(this.compare(a,o.length,Number(u))){var l,c=g(o);try{for(c.s();!(l=c.n()).done;){var h=l.value;e=this.truthifyResult(e,h)}}catch(t){c.e(t)}finally{c.f()}}return e}},{key:"visitCountComplexExpr",value:function(t){var e=this,i=null,n=t.field().getText(),r=this.getRelevantFieldTokens(n);if(!r)return i;var a=[z.complex];this.checkFieldType(r,a);var u,o=t.countComplex().comparator().op(),c=this.getConditionValue(t.countComplex().comparator().number()),h=t.countComplex().DISTINCT()?t.countComplex().field().getText():null,v=[],f=[],p=0,d=this.fieldTokensScope,T=g(r);try{t:for(T.s();!(u=T.n()).done;){var y=u.value;this.setFieldTokensScope(y.children);var m=E(l(s.prototype),"visit",this).call(this,t.countComplex().expr());if(this.isTruthy(m)&&h){var k,R=[],C=g(m.triggeredFieldTokens);try{var N=function(){var t=k.value;if(t.fieldName===h&&v.some((function(i){return e.isTokenValuesEqual(i,t)})))return"continue|parentLoop";t.fieldName===h?(v.push(t),R.push(t)):R.push(t)};for(C.s();!(k=C.n()).done;){if("continue|parentLoop"===N())continue t}}catch(t){C.e(t)}finally{C.f()}R.length>0&&(p++,f=[].concat(x(f),R))}else this.isTruthy(m)&&(p++,f=[].concat(x(f),x(m.triggeredFieldTokens)))}}catch(t){T.e(t)}finally{T.f()}return this.setFieldTokensScope(d),this.compare(o,p,Number(c))?i={evaluationResult:!0,triggeredFieldTokens:new Set(f)}:i}},{key:"visitParenExpr",value:function(t){return E(l(s.prototype),"visit",this).call(this,t.expr())}},{key:"visitVehicleImpactExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r=[z.vehicleImpactType];this.checkFieldType(n,r);var s,a=t.vehicleImpact().INT().getText(),u=g(n);try{for(u.s();!(s=u.n()).done;){var o,l=s.value;null!==(o=l.fieldValue.impactSides)&&void 0!==o&&o.includes(Number(a))&&(e=this.truthifyResult(e,l))}}catch(t){u.e(t)}finally{u.f()}return e}},{key:"visitValueExpr",value:function(t){var e=null,i=t.field().getText(),n=this.getRelevantFieldTokens(i);if(!n)return e;var r=[z.string,z.enum,z.enum_list];this.checkFieldType(n,r);var s,a=this.getConditionValue(t.value()),u=g(n);try{for(u.s();!(s=u.n()).done;){var o=s.value;if(this.isEnumList(o))o.fieldValue.map((function(t){return t.toLowerCase()})).includes(a.toLowerCase())&&(e=this.truthifyResult(e,o));else this.isString(o)&&o.fieldValue.toLowerCase()===a.toLowerCase()&&(e=this.truthifyResult(e,o))}}catch(t){u.e(t)}finally{u.f()}return e}},{key:"visitValuesExpr",value:function(t){var e=this,i=null,n=t.field().getText(),r=this.getRelevantFieldTokens(n);if(!r)return i;var s=[z.string,z.enum,z.enum_list];this.checkFieldType(r,s);var a,u=t.values().value().map((function(t){return e.getConditionValue(t).toLowerCase()})),o=g(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;this.isEnumList(l)?function(){var t=l.fieldValue.map((function(t){return t.toLowerCase()}));u.some((function(e){return t.includes(e)}))&&(i=e.truthifyResult(i,l))}():this.isString(l)&&u.includes(l.fieldValue.toLowerCase())&&(i=this.truthifyResult(i,l))}}catch(t){o.e(t)}finally{o.f()}return i}}]),s}(),mt=function(){function t(e){var i;(r(this,t),u(this,"withCache",!0),this.cachedParse={},e)&&(this.withCache=null===(i=e.withCache)||void 0===i||i,this.onError=e.onError);this.checkCondition=this.checkCondition.bind(this),this.formatCondition=this.formatCondition.bind(this),this.getFieldEntries=this.getFieldEntries.bind(this),this.evaluateFieldTokens=this.evaluateFieldTokens.bind(this),this.clearCache=this.clearCache.bind(this)}return a(t,[{key:"getParseResult",value:function(t){if(this.cachedParse[t])return this.cachedParse[t];var e=new pt(t),i=new Tt(e),n=i.ast,r=i.error;return this.withCache&&(this.cachedParse[t]={ast:n,error:r}),{ast:n,error:r}}},{key:"isError",value:function(t,e,i){return!!t&&(this.onError&&this.onError(t,e,i),!0)}},{key:"checkCondition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.withCache=e;var i=this.getParseResult(t),n=i.error;return n&&this.onError&&this.onError(n,t),n}},{key:"formatCondition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.withCache=e;var i=this.getParseResult(t),n=i.ast,r=i.error;if(this.isError(r,t))return t;try{var s=new yt;return n.accept(s),s.formattedCondition}catch(e){var a=e,u=a.message,o=new C({message:u,source:W.FORMAT_VISITOR});return this.onError&&this.onError(o,t),t}}},{key:"getFieldEntries",value:function(t,e){var i=this.getParseResult(t),n=i.ast,r=i.error;if(this.isError(r,t,null==e?void 0:e.trackId))return null;var s=new Et;return n.accept(s),s.fieldNames}},{key:"evaluateFieldTokens",value:function(t,e,i){var n=this.getParseResult(t),r=n.ast,s=n.error;if(this.isError(s,t,null==i?void 0:i.trackId))return null;try{var a=new xt(e);return r.accept(a),{evaluationResult:a.evaluationResult,triggeredFieldTokens:a.triggeredFieldTokens}}catch(e){var u=e.message,o=new C({message:u,source:W.EVALUATE_VISITOR});return this.onError&&this.onError(o,t,null==i?void 0:i.trackId),null}}},{key:"clearCache",value:function(){this.cachedParse={}}}]),t}(),kt=a((function t(e,i,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];r(this,t),this.id=e,this.fieldName=i,this.fieldValue=n,this.fieldType=s,this.children=a}));export{mt as CoLang,C as CoLangError,z as EFieldType,W as ESource,kt as FieldTokenModel,pt as Lexer,Tt as Parser};
//# sourceMappingURL=bundle.min.js.map
